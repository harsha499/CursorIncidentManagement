(()=>{"use strict";var e={4443:function(){},2926:function(){},1382:function(){},5333:function(){},7102:function(){},9300:function(){},5359:function(){},5484:function(){},275:function(){},1906:function(){},7280:function(){},1587:function(){},70:function(e,n,t){var s=t(5893),i=t(7294),a=t(9655),r=t(9250),c=t(7137),l=t(965),o=t(8736),d=t(8987),u=t(427),h=t(8424),m=t(3870);t(4443);n.Z=function(){return(0,i.useEffect)(()=>{(0,c.Xx)()},[]),(0,s.jsx)(a.VK,{children:(0,s.jsx)(l.Z,{children:(0,s.jsxs)(r.Z5,{children:[(0,s.jsx)(r.AW,{path:"/",element:(0,s.jsx)(o.Z,{})}),(0,s.jsx)(r.AW,{path:"/create",element:(0,s.jsx)(d.Z,{})}),(0,s.jsx)(r.AW,{path:"/incidents/:id",element:(0,s.jsx)(h.Z,{})}),(0,s.jsx)(r.AW,{path:"/incidents/:id/edit",element:(0,s.jsx)(u.Z,{})}),(0,s.jsx)(r.AW,{path:"/ai-chat",element:(0,s.jsx)(m.$,{})})]})})})}},7747:function(e,n,t){t.d(n,{A:function(){return r}}),t(9560),t(9734);var s=t(5893),i=t(7294),a=t(6622);t(2926);let r=()=>{let[e,n]=(0,i.useState)([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for Incident Management. I can help you:\n\n\u2022 Create new incidents\n\u2022 List and search incidents\n\u2022 View incident details\n\u2022 Update incidents\n\u2022 Delete incidents\n\nHow can I help you today?",timestamp:new Date}]),[t,r]=(0,i.useState)(""),[c,l]=(0,i.useState)(!1),o=(0,i.useRef)(null),d=()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,i.useEffect)(()=>{d()},[e]);let u=async s=>{if(s.preventDefault(),!t.trim()||c)return;let i={id:Date.now().toString(),role:"user",content:t.trim(),timestamp:new Date};n(e=>[...e,i]),r(""),l(!0);try{let t=[...e.map(e=>({role:e.role,content:e.content})),{role:"user",content:i.content}],s=await (0,a.b)(t),r={id:(Date.now()+1).toString(),role:"assistant",content:s.message,timestamp:new Date};n(e=>[...e,r])}catch(t){let e={id:(Date.now()+1).toString(),role:"assistant",content:`Sorry, I encountered an error: ${t.message}. Please make sure the backend server is running and the OpenAI API key is configured.`,timestamp:new Date};n(n=>[...n,e])}finally{l(!1)}},h=e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"chat-agent",children:[(0,s.jsx)("div",{className:"chat-header",children:(0,s.jsxs)("div",{className:"chat-header-content",children:[(0,s.jsx)("h2",{children:"\uD83E\uDD16 AI Assistant"}),(0,s.jsx)("button",{onClick:()=>{n([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for Incident Management. I can help you:\n\n\u2022 Create new incidents\n\u2022 List and search incidents\n\u2022 View incident details\n\u2022 Update incidents\n\u2022 Delete incidents\n\nHow can I help you today?",timestamp:new Date}])},className:"clear-chat-btn",title:"Clear chat history",children:"Clear Chat"})]})}),(0,s.jsxs)("div",{className:"chat-messages",children:[e.map(e=>(0,s.jsx)("div",{className:`message ${"user"===e.role?"user-message":"assistant-message"}`,children:(0,s.jsxs)("div",{className:"message-content",children:[(0,s.jsxs)("div",{className:"message-header",children:[(0,s.jsx)("span",{className:"message-role",children:"user"===e.role?"\uD83D\uDC64 You":"\uD83E\uDD16 Assistant"}),(0,s.jsx)("span",{className:"message-timestamp",children:h(e.timestamp)})]}),(0,s.jsx)("div",{className:"message-text",children:e.content})]})},e.id)),c&&(0,s.jsx)("div",{className:"message assistant-message",children:(0,s.jsxs)("div",{className:"message-content",children:[(0,s.jsx)("div",{className:"message-header",children:(0,s.jsx)("span",{className:"message-role",children:"\uD83E\uDD16 Assistant"})}),(0,s.jsxs)("div",{className:"message-text typing-indicator",children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{})]})]})}),(0,s.jsx)("div",{ref:o})]}),(0,s.jsxs)("form",{onSubmit:u,className:"chat-input-form",children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Type your message... (e.g., 'Create a critical incident for database issue in production')",className:"chat-input",disabled:c}),(0,s.jsx)("button",{type:"submit",className:"chat-send-btn",disabled:c||!t.trim(),children:"Send"})]})]})}},1365:function(e,n,t){t.d(n,{Z:function(){return i}});var s=t(5893);function i(e){let{filters:n,onFilterChange:t}=e,i=(e,s)=>{t({...n,[e]:s||void 0})},a=!!(n.status||n.severity||n.environment||n.search);return(0,s.jsxs)("div",{className:"filter-bar",children:[(0,s.jsxs)("div",{className:"filter-group",children:[(0,s.jsx)("label",{htmlFor:"search",children:"Search"}),(0,s.jsx)("input",{id:"search",type:"text",placeholder:"Search by team name or description...",value:n.search||"",onChange:e=>i("search",e.target.value),className:"filter-input"})]}),(0,s.jsxs)("div",{className:"filter-group",children:[(0,s.jsx)("label",{htmlFor:"status",children:"Status"}),(0,s.jsxs)("select",{id:"status",value:n.status||"",onChange:e=>i("status",e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Resolved",children:"Resolved"})]})]}),(0,s.jsxs)("div",{className:"filter-group",children:[(0,s.jsx)("label",{htmlFor:"severity",children:"Severity"}),(0,s.jsxs)("select",{id:"severity",value:n.severity||"",onChange:e=>i("severity",e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"",children:"All Severities"}),(0,s.jsx)("option",{value:"Critical",children:"Critical"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Info",children:"Info"})]})]}),(0,s.jsxs)("div",{className:"filter-group",children:[(0,s.jsx)("label",{htmlFor:"environment",children:"Environment"}),(0,s.jsxs)("select",{id:"environment",value:n.environment||"",onChange:e=>i("environment",e.target.value),className:"filter-select",children:[(0,s.jsx)("option",{value:"",children:"All Environments"}),(0,s.jsx)("option",{value:"Production",children:"Production"}),(0,s.jsx)("option",{value:"Staging",children:"Staging"}),(0,s.jsx)("option",{value:"Development",children:"Development"}),(0,s.jsx)("option",{value:"Testing",children:"Testing"})]})]}),a&&(0,s.jsx)("button",{className:"clear-filters-btn",onClick:()=>{t({})},children:"Clear Filters"})]})}t(1382)},6415:function(e,n,t){t.d(n,{Z:function(){return a}});var s=t(5893),i=t(7294);function a(e){let{initialData:n,onSubmit:t,onCancel:a,submitLabel:r="Create Incident"}=e,[c,l]=(0,i.useState)({teamName:(null==n?void 0:n.teamName)||"",issueDescription:(null==n?void 0:n.issueDescription)||"",severity:(null==n?void 0:n.severity)||"Medium",environment:(null==n?void 0:n.environment)||"Development",status:(null==n?void 0:n.status)||"Open"}),[o,d]=(0,i.useState)({}),[u,h]=(0,i.useState)(!1),m=e=>{let{name:n,value:t}=e.target;l(e=>({...e,[n]:t})),o[n]&&d(e=>{let t={...e};return delete t[n],t})},v=()=>{let e={};return!c.teamName.trim()&&(e.teamName="Team name is required"),!c.issueDescription.trim()&&(e.issueDescription="Issue description is required"),d(e),0===Object.keys(e).length},j=async e=>{if(e.preventDefault(),!!v()){h(!0);try{await t(c)}catch(e){console.error("Form submission error:",e)}finally{h(!1)}}};return(0,s.jsxs)("form",{onSubmit:j,className:"incident-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{htmlFor:"teamName",children:["Team Name ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("input",{id:"teamName",name:"teamName",type:"text",value:c.teamName,onChange:m,className:o.teamName?"error":"",placeholder:"Enter team name"}),o.teamName&&(0,s.jsx)("span",{className:"error-message",children:o.teamName})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{htmlFor:"issueDescription",children:["Issue Description ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("textarea",{id:"issueDescription",name:"issueDescription",value:c.issueDescription,onChange:m,className:o.issueDescription?"error":"",placeholder:"Describe the issue...",rows:5}),o.issueDescription&&(0,s.jsx)("span",{className:"error-message",children:o.issueDescription})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"severity",children:"Severity"}),(0,s.jsxs)("select",{id:"severity",name:"severity",value:c.severity,onChange:m,children:[(0,s.jsx)("option",{value:"Critical",children:"Critical"}),(0,s.jsx)("option",{value:"High",children:"High"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Info",children:"Info"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"environment",children:"Environment"}),(0,s.jsxs)("select",{id:"environment",name:"environment",value:c.environment,onChange:m,children:[(0,s.jsx)("option",{value:"Production",children:"Production"}),(0,s.jsx)("option",{value:"Staging",children:"Staging"}),(0,s.jsx)("option",{value:"Development",children:"Development"}),(0,s.jsx)("option",{value:"Testing",children:"Testing"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"status",children:"Status"}),(0,s.jsxs)("select",{id:"status",name:"status",value:c.status,onChange:m,children:[(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Resolved",children:"Resolved"})]})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[a&&(0,s.jsx)("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Submitting...":r})]})]})}t(5333)},6478:function(e,n,t){t.d(n,{Z:function(){return a}}),t(9560),t(9734);var s=t(5893),i=t(9250);function a(e){let{incidents:n,onDelete:t}=e,a=(0,i.s0)(),r=e=>({Critical:"severity-critical",High:"severity-high",Medium:"severity-medium",Low:"severity-low",Info:"severity-info"})[e],c=e=>({Open:"status-open","In Progress":"status-in-progress",Resolved:"status-resolved"})[e],l=e=>{let n=new Date(e);return n.toLocaleDateString()+" "+n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},o=(e,n)=>{e.stopPropagation(),window.confirm("Are you sure you want to delete this incident?")&&(null==t||t(n))};return 0===n.length?(0,s.jsx)("div",{className:"empty-state",children:(0,s.jsx)("p",{children:"No incidents found. Create your first incident to get started!"})}):(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"incident-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Team"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Severity"}),(0,s.jsx)("th",{children:"Environment"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Created"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:n.map(e=>(0,s.jsxs)("tr",{onClick:()=>a(`/incidents/${e.id}`),className:"table-row",children:[(0,s.jsx)("td",{className:"team-name",children:e.teamName}),(0,s.jsx)("td",{className:"description",children:e.issueDescription.length>60?`${e.issueDescription.substring(0,60)}...`:e.issueDescription}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:`badge severity ${r(e.severity)}`,children:e.severity})}),(0,s.jsx)("td",{children:e.environment}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:`badge status ${c(e.status)}`,children:e.status})}),(0,s.jsx)("td",{className:"date",children:l(e.createdAt)}),(0,s.jsxs)("td",{className:"actions",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"btn-edit",onClick:()=>a(`/incidents/${e.id}/edit`),"aria-label":"Edit incident",children:"\u270F\uFE0F"}),t&&(0,s.jsx)("button",{className:"btn-delete",onClick:n=>o(n,e.id),"aria-label":"Delete incident",children:"\uD83D\uDDD1\uFE0F"})]})]},e.id))})]})})}t(7102)},965:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(5893),i=t(7294),a=t(9250),r=t(9655),c=t(7137);function l(e){let{children:n}=e,t=(0,a.TH)(),[l,o]=(0,i.useState)((0,c.gh)());return(0,i.useEffect)(()=>{o((0,c.gh)())},[]),(0,s.jsxs)("div",{className:"layout",children:[(0,s.jsxs)("aside",{className:"sidebar",children:[(0,s.jsx)("div",{className:"sidebar-header",children:(0,s.jsx)("h1",{className:"logo",children:"Incident Manager"})}),(0,s.jsxs)("nav",{className:"sidebar-nav",children:[(0,s.jsxs)(r.rU,{to:"/",className:`nav-link ${"/"===t.pathname?"active":""}`,children:[(0,s.jsx)("span",{className:"nav-icon",children:"\uD83D\uDCCB"}),(0,s.jsx)("span",{children:"All Incidents"})]}),(0,s.jsxs)(r.rU,{to:"/create",className:`nav-link ${"/create"===t.pathname?"active":""}`,children:[(0,s.jsx)("span",{className:"nav-icon",children:"\u2795"}),(0,s.jsx)("span",{children:"Create Incident"})]}),(0,s.jsxs)(r.rU,{to:"/ai-chat",className:`nav-link ${"/ai-chat"===t.pathname?"active":""}`,children:[(0,s.jsx)("span",{className:"nav-icon",children:"\uD83E\uDD16"}),(0,s.jsx)("span",{children:"AI Assistant"})]})]}),(0,s.jsx)("div",{className:"sidebar-footer",children:(0,s.jsxs)("button",{className:"theme-toggle",onClick:()=>{o((0,c.X8)())},"aria-label":"Toggle theme",children:["dark"===l?"\u2600\uFE0F":"\uD83C\uDF19",(0,s.jsx)("span",{children:"dark"===l?"Light Mode":"Dark Mode"})]})})]}),(0,s.jsx)("main",{className:"main-content",children:n})]})}t(9300)},3137:function(e,n,t){t.d(n,{v:function(){return s}});let s={apiUrl:"https://cursorincidentmanagementsystem.onrender.com/api"}},8453:function(e,n,t){t.d(n,{Y:function(){return r},s:function(){return a}}),t(777);var s=t(7294),i=t(3339);function a(e){let[n,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[c,l]=(0,s.useState)(null),o=(0,s.useCallback)(async()=>{try{r(!0),l(null);let n=await i.c.getAll(e);t(n)}catch(e){l(e instanceof Error?e.message:"Failed to fetch incidents"),console.error("Error fetching incidents:",e)}finally{r(!1)}},[e]);return(0,s.useEffect)(()=>{o()},[o]),{incidents:n,loading:a,error:c,refetch:(0,s.useCallback)(()=>{o()},[o])}}function r(e){let[n,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),[c,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let n=async()=>{try{r(!0),l(null);let n=await i.c.getById(e);t(n)}catch(e){l(e instanceof Error?e.message:"Failed to fetch incident"),console.error("Error fetching incident:",e)}finally{r(!1)}};e&&n()},[e]),{incident:n,loading:a,error:c}}},7204:function(e,n,t){var s=t(5893),i=t(7294),a=t(745),r=t(70);t(5359),a.createRoot(document.getElementById("root")).render((0,s.jsx)(i.StrictMode,{children:(0,s.jsx)(r.Z,{})}))},3870:function(e,n,t){t.d(n,{$:function(){return a}});var s=t(5893);t(7294);var i=t(7747);t(5484);let a=()=>(0,s.jsx)("div",{className:"ai-chat-page",children:(0,s.jsx)("div",{className:"ai-chat-container",children:(0,s.jsx)(i.A,{})})})},8987:function(e,n,t){t.d(n,{Z:function(){return c}});var s=t(5893),i=t(9250),a=t(3339),r=t(6415);function c(){let e=(0,i.s0)(),n=async n=>{try{await a.c.create(n),e("/")}catch(e){throw console.error("Error creating incident:",e),alert("Failed to create incident. Please try again."),e}};return(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsx)("h1",{children:"Create New Incident"})}),(0,s.jsx)(r.Z,{onSubmit:n,onCancel:()=>{e("/")}})]})}t(275)},427:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(5893),i=t(9250),a=t(3339),r=t(8453),c=t(6415);function l(){let{id:e}=(0,i.UO)(),n=(0,i.s0)(),{incident:t,loading:l,error:o}=(0,r.Y)(e||""),d=async t=>{if(e)try{await a.c.update(e,t),n(`/incidents/${e}`)}catch(e){throw console.error("Error updating incident:",e),alert("Failed to update incident. Please try again."),e}};return l?(0,s.jsx)("div",{className:"page-container",children:(0,s.jsx)("div",{className:"loading-state",children:"Loading incident..."})}):o||!t?(0,s.jsx)("div",{className:"page-container",children:(0,s.jsxs)("div",{className:"error-state",children:[(0,s.jsx)("p",{children:o||"Incident not found"}),(0,s.jsx)("button",{onClick:()=>n("/"),className:"btn-primary",children:"Back to List"})]})}):(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsx)("h1",{children:"Edit Incident"})}),(0,s.jsx)(c.Z,{initialData:t,onSubmit:d,onCancel:()=>{e?n(`/incidents/${e}`):n("/")},submitLabel:"Update Incident"})]})}t(1906)},8424:function(e,n,t){t.d(n,{Z:function(){return c}});var s=t(5893),i=t(9250),a=t(8453),r=t(3339);function c(){let{id:e}=(0,i.UO)(),n=(0,i.s0)(),{incident:t,loading:c,error:l}=(0,a.Y)(e||""),o=async()=>{if(e&&window.confirm("Are you sure you want to delete this incident?"))try{await r.c.delete(e),n("/")}catch(e){console.error("Error deleting incident:",e),alert("Failed to delete incident. Please try again.")}},d=e=>new Date(e).toLocaleString();if(c)return(0,s.jsx)("div",{className:"page-container",children:(0,s.jsx)("div",{className:"loading-state",children:"Loading incident..."})});if(l||!t)return(0,s.jsx)("div",{className:"page-container",children:(0,s.jsxs)("div",{className:"error-state",children:[(0,s.jsx)("p",{children:l||"Incident not found"}),(0,s.jsx)("button",{onClick:()=>n("/"),className:"btn-primary",children:"Back to List"})]})});return(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("button",{onClick:()=>n("/"),className:"btn-back",children:"\u2190 Back to List"}),(0,s.jsxs)("div",{className:"header-actions",children:[(0,s.jsx)("button",{onClick:()=>n(`/incidents/${t.id}/edit`),className:"btn-secondary",children:"Edit"}),(0,s.jsx)("button",{onClick:o,className:"btn-danger",children:"Delete"})]})]}),(0,s.jsxs)("div",{className:"incident-detail",children:[(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h2",{children:"Incident Details"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Team Name"}),(0,s.jsx)("p",{children:t.teamName})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Severity"}),(0,s.jsx)("span",{className:`badge severity ${{Critical:"severity-critical",High:"severity-high",Medium:"severity-medium",Low:"severity-low",Info:"severity-info"}[t.severity]||""}`,children:t.severity})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Environment"}),(0,s.jsx)("p",{children:t.environment})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Status"}),(0,s.jsx)("span",{className:`badge status ${{Open:"status-open","In Progress":"status-in-progress",Resolved:"status-resolved"}[t.status]||""}`,children:t.status})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Created At"}),(0,s.jsx)("p",{children:d(t.createdAt)})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Updated At"}),(0,s.jsx)("p",{children:d(t.updatedAt)})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h2",{children:"Issue Description"}),(0,s.jsx)("div",{className:"description-box",children:(0,s.jsx)("p",{children:t.issueDescription})})]})]})]})}t(7280)},8736:function(e,n,t){t.d(n,{Z:function(){return d}});var s=t(5893),i=t(7294),a=t(9250),r=t(8453),c=t(3339),l=t(1365),o=t(6478);function d(){let e=(0,a.s0)(),[n,t]=(0,i.useState)({}),{incidents:d,loading:u,error:h,refetch:m}=(0,r.s)(n),v=async e=>{try{await c.c.delete(e),m()}catch(e){console.error("Error deleting incident:",e),alert("Failed to delete incident. Please try again.")}};return u?(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{children:"Incidents"}),(0,s.jsx)("button",{className:"btn-primary",onClick:()=>e("/create"),children:"+ Create Incident"})]}),(0,s.jsx)("div",{className:"loading-state",children:"Loading incidents..."})]}):h?(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{children:"Incidents"}),(0,s.jsx)("button",{className:"btn-primary",onClick:()=>e("/create"),children:"+ Create Incident"})]}),(0,s.jsxs)("div",{className:"error-state",children:[(0,s.jsxs)("p",{children:["Error: ",h]}),(0,s.jsx)("button",{onClick:m,className:"btn-primary",children:"Retry"})]})]}):(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{children:"Incidents"}),(0,s.jsx)("button",{className:"btn-primary",onClick:()=>e("/create"),children:"+ Create Incident"})]}),(0,s.jsx)(l.Z,{filters:n,onFilterChange:t}),(0,s.jsx)("div",{className:"incidents-summary",children:(0,s.jsxs)("p",{children:["Showing ",(0,s.jsx)("strong",{children:d.length})," incident",1!==d.length?"s":""]})}),(0,s.jsx)(o.Z,{incidents:d,onDelete:v})]})}t(1587)},3339:function(e,n,t){t.d(n,{c:function(){return r}}),t(6330),t(8221),t(5863);var s=t(2008);let i=t(3137).v.apiUrl,a=s.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}}),r={getAll:async e=>{let n=new URLSearchParams;(null==e?void 0:e.status)&&n.append("status",e.status),(null==e?void 0:e.severity)&&n.append("severity",e.severity),(null==e?void 0:e.environment)&&n.append("environment",e.environment),(null==e?void 0:e.search)&&n.append("search",e.search);let t=n.toString(),s=`/incidents${t?`?${t}`:""}`;return(await a.get(s)).data},getById:async e=>(await a.get(`/incidents/${e}`)).data,create:async e=>(await a.post("/incidents",e)).data,update:async(e,n)=>(await a.put(`/incidents/${e}`,n)).data,delete:async e=>{await a.delete(`/incidents/${e}`)}}},6622:function(e,n,t){t.d(n,{b:function(){return i}}),t(777);let s=t(3137).v.apiUrl,i=async e=>{let n=await fetch(`${s}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(!n.ok)throw Error((await n.json()).error||"Failed to send message");return n.json()}},7137:function(e,n,t){t.d(n,{X8:function(){return r},Xx:function(){return a},gh:function(){return s}});let s=()=>localStorage.getItem("theme")||"light",i=e=>{localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},a=()=>{i(s())},r=()=>{let e="light"===s()?"dark":"light";return i(e),e}}},n={};function t(s){var i=n[s];if(void 0!==i)return i.exports;var a=n[s]={exports:{}};return e[s].call(a.exports,a,a.exports,t),a.exports}t.m=e,t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},(()=>{var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(s,i){if(1&i&&(s=this(s)),8&i||"object"==typeof s&&s&&(4&i&&s.__esModule||16&i&&"function"==typeof s.then))return s;var a=Object.create(null);t.r(a);var r={};e=e||[null,n({}),n([]),n(n)];for(var c=2&i&&s;"object"==typeof c&&!~e.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach(function(e){r[e]=function(){return s[e]}});return r.default=function(){return s},t.d(a,r),a}})(),t.d=function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];t.O=function(n,s,i,a){if(s){a=a||0;for(var r=e.length;r>0&&e[r-1][2]>a;r--)e[r]=e[r-1];e[r]=[s,i,a];return}for(var c=1/0,r=0;r<e.length;r++){for(var s=e[r][0],i=e[r][1],a=e[r][2],l=!0,o=0;o<s.length;o++)(!1&a||c>=a)&&Object.keys(t.O).every(function(e){return t.O[e](s[o])})?s.splice(o--,1):(l=!1,a<c&&(c=a));if(l){e.splice(r--,1);var d=i();void 0!==d&&(n=d)}}return n}})(),(()=>{var e={980:0};t.O.j=function(n){return 0===e[n]};var n=function(n,s){var i=s[0],a=s[1],r=s[2],c,l,o=0;if(i.some(function(n){return 0!==e[n]})){for(c in a)t.o(a,c)&&(t.m[c]=a[c]);if(r)var d=r(t)}for(n&&n(s);o<i.length;o++)l=i[o],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},s=self.webpackChunkincident_management_frontend=self.webpackChunkincident_management_frontend||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))})();var s=t.O(void 0,["126","72","361","118"],function(){return t("7204")});s=t.O(s)})();